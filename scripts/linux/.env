#!/usr/bin/env bash
# Copy to .env and adjust for your environment

# SSH target in the form user@host (or Host alias from ~/.ssh/config)
LINUX_SSH=forman@109.172.79.242

# SSH non-default port and extra options (optional)
LINUX_SSH_PORT=221
# Recommended keepalives for long-running non-tty sessions:
#   -o ServerAliveInterval=15 -o ServerAliveCountMax=4 -o TCPKeepAlive=yes -o ConnectionAttempts=3 -o ConnectTimeout=10
LINUX_SSH_OPTS="-o ServerAliveInterval=15 -o ServerAliveCountMax=4 -o TCPKeepAlive=yes -o ConnectionAttempts=3 -o ConnectTimeout=10"

# Remote working directory (will be created if missing)
LINUX_DIR=/home/forman/Work/io

# Build directory (relative to LINUX_DIR)
LINUX_BUILD=build/lin

# Jobs for building
LINUX_JOBS=8

# CMake/CTest binaries on remote (use absolute paths if needed)
LINUX_CMAKE=cmake
LINUX_CTEST=ctest

# Generator and options
LINUX_GENERATOR="Unix Makefiles"
LINUX_BUILD_TYPE=Debug

# Backend selection (Linux)
# OFF -> epoll, ON -> try io_uring (falls back to epoll if liburing not found)
LINUX_IOURING=ON

# Verbose logging controls
# Enable verbose logging for io_uring backend in CMake (maps to IO_ENABLE_IOURING_VERBOSE)
LINUX_VERBOSE_IOURING=ON

# Sanitizers
LINUX_ASAN=ON

# Default timeout for each ctest (seconds). Adjust if your host is slow.
LINUX_CTEST_TIMEOUT=180

# Stress knobs: wall-clock watchdog and test payload sizing
# Kill stress after this many seconds if still running (graceful then force)
LINUX_STRESS_WALL=600
# Optionally tune highload test payload per-iteration
# IO_STRESS_N = number of clients; IO_STRESS_M = number of user events
# Leave empty to use test defaults / environment from remote shell
#LINUX_STRESS_N=200
#LINUX_STRESS_M=5000
